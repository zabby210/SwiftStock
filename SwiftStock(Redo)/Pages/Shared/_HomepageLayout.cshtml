<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - SwiftStock</title>

    <!-- Existing Fonts and CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link rel="stylesheet" href="~/css/style.css" />

    <!-- Material UI Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />

    <style>
        /* Glassy Card Effect */
        .glass-card {
            background: rgba(22, 25, 34, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Sidebar */
        .home-sidebar {
            width: 280px;
            transition: width 0.4s ease;
            background-color: #1e2024;
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            z-index: 50;
        }

            .home-sidebar.collapsed {
                width: 80px;
            }

                /* Hamburger Button at the top center of the collapsed sidebar */
                .home-sidebar.collapsed .hamburger-btn {
                    position: absolute;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                }

        /* Sidebar Links */
        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px;
            transition: background-color 0.3s;
        }

            .nav-item:hover {
                background-color: rgba(255, 255, 255, 0.1);
            }

            .nav-item.active {
                background-color: #E31837;
                color: white;
            }

        /* Sidebar Text (Visibility Toggle) */
        .sidebar-text {
            transition: opacity 0.25s ease;
            opacity: 1;
        }

        .home-sidebar.collapsed .sidebar-text {
            opacity: 0;
            pointer-events: none;
        }

        /* Main Content */
        .home-content {
            margin-left: 280px;
            transition: margin-left 0.4s ease;
        }

            .home-content.expanded {
                margin-left: 80px;
            }

        /* Top Bar */
        header {
            position: fixed;
            top: 0;
            left: 280px;
            right: 0;
            height: 64px;
            background: rgba(22, 25, 34, 0.7);
            backdrop-filter: blur(12px);
            z-index: 40;
            display: flex;
            align-items: center;
            padding: 0 20px;
            transition: left 0.4s ease; /* Added transition for smooth movement */
            justify-content: space-between; /* Ensure the content is spread out */
        }

            /* Adjust hamburger icon when sidebar is collapsed */
            header .hamburger-btn {
                transition: margin-left 0.3s ease; /* Smooth transition */
                margin-left: 0;
            }

        /* When the sidebar is collapsed */
        .home-sidebar.collapsed + header .hamburger-btn {
            margin-left: -10px; /* Adjust hamburger icon when collapsed to stay within the header */
        }

        /* Main Content Section */
        .main-section {
            padding: 80px 20px;
            background-color: #0f1117;
        }

        /* Header Logo and Notification Bell */
        .header-logo {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }

            .header-logo img {
                height: 40px; /* Adjust size of logo */
                width: auto;
            }
    </style>
</head>
<body class="h-full bg-[#0f1117] text-slate-200">

    <!-- Sidebar -->
    <aside id="home-sidebar" class="home-sidebar fixed top-0 left-0 h-full glass-card z-50">
        <div class="p-6 border-b border-slate-800">
            <div class="flex items-center justify-between">
                <!-- Remove Logo from here -->
                <span class="text-xl font-bold text-white sidebar-text">Home</span>
                <button id="toggle-sidebar" class="text-slate-400 hover:text-white hamburger-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="mt-6 px-4">
            <a href="/Home" class="nav-item">
                <i class="material-icons">home</i>
                <span class="sidebar-text">Home</span>
            </a>

            <div class="py-2">
                <p class="px-3 text-xs font-semibold text-slate-400 uppercase sidebar-text">Products</p>
            </div>

            <a href="/products" class="nav-item">
                <i class="material-icons">category</i>
                <span class="sidebar-text">Categories</span>
            </a>

            <a href="/Settings" class="nav-item">
                <i class="material-icons">settings</i>
                <span class="sidebar-text">Account Settings</span>
            </a>

            <form method="post" action="/Index?handler=Logout">
                @Html.AntiForgeryToken()
                <button type="submit" class="nav-item w-full">
                    <i class="material-icons">logout</i>
                    <span class="sidebar-text">Logout</span>
                </button>
            </form>
        </nav>
    </aside>

    <!-- Top Bar -->
    <header>
        <div class="flex items-center justify-between w-full">
            <!-- Logo near Notification Bell -->
            <div class="header-logo">
                <img src="~/css/Images/SwiftLogo.png" alt="Logo">
            </div>

            <input type="text" placeholder="Search..." class="px-4 py-2 bg-[#0f1117] text-slate-200 border border-slate-800 rounded-lg w-1/3">
            <button class="text-slate-400">
                <i class="material-icons">notifications</i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="home-content pt-16">
        <div class="main-section">
            @RenderBody()
        </div>
    </main>

    <script>
        // Sidebar Toggle
        document.getElementById('toggle-sidebar').addEventListener('click', function() {
            const sidebar = document.getElementById('home-sidebar');
            const content = document.querySelector('.home-content');
            const header = document.querySelector('header');

            // Toggle collapsed class
            sidebar.classList.toggle('collapsed');
            content.classList.toggle('expanded');

            // Adjust header position based on sidebar state
            if (sidebar.classList.contains('collapsed')) {
                header.style.left = '80px'; // Move header when collapsed
            } else {
                header.style.left = '280px'; // Default position for header
            }
        });
    </script>
</body>
</html>
