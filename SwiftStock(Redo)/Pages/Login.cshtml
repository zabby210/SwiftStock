@page
@model AlfaMart.Pages.LoginModel
@{
    ViewData["Title"] = "Login";
}

<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-red-600 via-yellow-400 to-blue-600 text-white px-4">
    <div class="w-full max-w-2xl bg-transparent backdrop-blur-lg rounded-3xl p-10 text-white flex flex-col items-center">
        <!-- Logo -->
        <div class="mb-6">
            <i class="fas fa-store-alt fa-3x text-yellow-300 drop-shadow-lg"></i>
        </div>

        <!-- Title & Subtitle -->
        <h2 class="text-4xl font-extrabold text-center mb-2 drop-shadow-lg">Welcome to SwiftStock</h2>
        <p class="text-white/80 text-center text-sm mb-8">Please login to access your dashboard</p>

        <form method="post" onsubmit="validateForm(event)" class="w-full space-y-6">
            <!-- Username -->
            <div>
                <label for="username" class="block text-sm font-medium">Username</label>
                <input type="text" id="username" name="username"
                       class="mt-1 w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent transition"
                       placeholder="Enter your username" required>
            </div>

            <!-- Password + Eye Toggle -->
            <div>
                <label for="password" class="block text-sm font-medium">Password</label>
                <div class="relative">
                    <input type="password" id="password" name="password"
                           class="mt-1 w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent transition pr-12"
                           placeholder="Enter your password" required>
                    <span class="absolute right-4 top-4 cursor-pointer text-white/70 hover:text-white" onclick="togglePassword()">
                        <i id="eyeIcon" class="fas fa-eye"></i>
                    </span>
                </div>
            </div>

            <!-- Error Message -->
            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="text-red-300 text-sm text-center">@Model.ErrorMessage</div>
            }

            <!-- Remember Me + Forgot Password -->
            <div class="flex items-center justify-between text-sm text-white/80">
                <label class="flex items-center space-x-2">
                    <input type="checkbox" class="form-checkbox bg-white/30 rounded border-white/40 focus:ring-yellow-400">
                    <span>Remember me</span>
                </label>
                <a href="#" class="hover:underline hover:text-yellow-300">Forgot Password?</a>
            </div>

            <!-- Submit -->
            <div>
                <button type="submit"
                        class="w-full bg-white/20 text-white py-3 px-4 rounded-full font-semibold hover:bg-white/30 hover:shadow-xl transition duration-300">
                    <i class="fas fa-sign-in-alt mr-2"></i> Login
                </button>
            </div>

            <!-- Divider -->
            <div class="flex items-center gap-4">
                <hr class="flex-grow border-white/30" />
                <span class="text-white/60 text-sm">OR</span>
                <hr class="flex-grow border-white/30" />
            </div>

            <!-- Social Login -->
            <div class="flex flex-col sm:flex-row gap-4">
                <button class="w-full bg-white/10 hover:bg-white/20 text-white py-2 px-4 rounded-lg flex items-center justify-center transition">
                    <i class="fab fa-google mr-2"></i> Login with Google
                </button>
                <a href="/Register" class="w-full bg-white/10 hover:bg-white/20 text-white py-2 px-4 rounded-lg flex items-center justify-center transition">
                    <i class="fab fa-facebook mr-2"></i> Facebook
                </a>
            </div>

            <!-- Sign Up Link -->
            <div class="text-center mt-4">
                <a href="/Register" class="hover:underline hover:text-yellow-300">Don't have an account? Sign up</a>
            </div>
        </form>
    </div>
</div>

<script>
    function validateForm(event) {
        const username = document.getElementById('Username').value;
        const password = document.getElementById('Password').value;
        if (!username || !password) {
            event.preventDefault();
            alert("All fields are required.");
        }
    }

    function togglePassword() {
        const passwordInput = document.getElementById("Password");
        const eyeIcon = document.getElementById("eyeIcon");
        const isPassword = passwordInput.type === "Password";

        passwordInput.type = isPassword ? "text" : "Password";
        eyeIcon.classList.toggle("fa-eye");
        eyeIcon.classList.toggle("fa-eye-slash");
    }
</script>
