@page
@model AlfaMart.Pages.RegisterModel
@{
    ViewData["Title"] = "Register";
}

<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-red-600 via-yellow-400 to-blue-600 text-white px-4">
    <div class="w-full max-w-2xl bg-transparent backdrop-blur-lg rounded-3xl p-10 text-white flex flex-col items-center">
        <!-- Logo -->
        <div class="mb-6">
            <i class="fas fa-user-plus fa-3x text-yellow-300 drop-shadow-lg"></i>
        </div>

        <!-- Title & Subtitle -->
        <h2 class="text-4xl font-extrabold text-center mb-2 drop-shadow-lg">Create an Account</h2>
        <p class="text-white/80 text-center text-sm mb-8">Please fill in the details to create an account</p>

        <form method="post" onsubmit="validateForm(event)" class="w-full space-y-6">
            <!-- Email -->
            <div>
                <label for="email" class="block text-sm font-medium">Email</label>
                <input type="email" id="email" name="email"
                       class="mt-1 w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent transition"
                       placeholder="Enter your email" required>
            </div>

            <!-- Name -->
            <div>
                <label for="name" class="block text-sm font-medium">Name</label>
                <input type="text" id="name" name="name"
                       class="mt-1 w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent transition"
                       placeholder="Enter your name" required>
            </div>

            <!-- Username -->
            <div>
                <label for="username" class="block text-sm font-medium">Username</label>
                <input type="text" id="username" name="username"
                       class="mt-1 w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent transition"
                       placeholder="Enter your username" required>
            </div>

            <!-- Password -->
            <div>
                <label for="password" class="block text-sm font-medium">Password</label>
                <input type="password" id="password" name="password"
                       class="mt-1 w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:border-transparent transition"
                       placeholder="Enter your password" required>
            </div>

            <!-- Error Message -->
            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="text-red-300 text-sm text-center">@Model.ErrorMessage</div>
            }

            <!-- Success Message -->
            @if (TempData["Success"] != null)
            {
                <input type="hidden" id="successFlag" value="true" />
            }

            <!-- Submit -->
            <div>
                <button type="submit"
                        class="w-full bg-white/20 text-white py-3 px-4 rounded-full font-semibold hover:bg-white/30 hover:shadow-xl transition duration-300">
                    <i class="fas fa-user-plus mr-2"></i> Register
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    function validateForm(event) {
        const email = document.getElementById('email').value;
        const name = document.getElementById('name').value;
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        if (!email || !name || !username || !password) {
            event.preventDefault();
            alert("All fields are required.");
        }
    }

    // Display success message if registration was successful
    window.onload = function() {
        const successFlag = document.getElementById('successFlag');
        if (successFlag && successFlag.value === "true") {
            alert("Account successfully created!");
        }
    }
</script>
